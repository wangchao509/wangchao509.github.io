<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL章节0 | whc的学习笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="主要是java技术类笔记">
    
    <link rel="preload" href="/docs/assets/css/0.styles.a889b764.css" as="style"><link rel="preload" href="/docs/assets/js/app.fc28f30e.js" as="script"><link rel="preload" href="/docs/assets/js/3.2d99bf22.js" as="script"><link rel="preload" href="/docs/assets/js/4.65d204eb.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.a040fdcc.js"><link rel="prefetch" href="/docs/assets/js/11.3db4bb60.js"><link rel="prefetch" href="/docs/assets/js/12.5e3e29ec.js"><link rel="prefetch" href="/docs/assets/js/2.1da3447e.js"><link rel="prefetch" href="/docs/assets/js/5.61759597.js"><link rel="prefetch" href="/docs/assets/js/6.7e231f6c.js"><link rel="prefetch" href="/docs/assets/js/7.2ae0f9b7.js"><link rel="prefetch" href="/docs/assets/js/8.309b3b65.js"><link rel="prefetch" href="/docs/assets/js/9.a42d928f.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.a889b764.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">whc的学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/docs/" aria-current="page" class="sidebar-link">站点介绍</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>markdown知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/markdown.html" class="sidebar-link">前端知识介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mysql0.html" aria-current="page" class="active sidebar-link">MySQL章节0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/mysql0.html#虚拟机上安装mysql" class="sidebar-link">虚拟机上安装mysql</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#配置mysql" class="sidebar-link">配置MySQL</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#简单的jdbc连接" class="sidebar-link">简单的jdbc连接</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#远程登录报错" class="sidebar-link">远程登录报错</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#什么是mysql驱动" class="sidebar-link">什么是mysql驱动</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#数据库连接池的作用" class="sidebar-link">数据库连接池的作用</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#mysql基础知识" class="sidebar-link">MySQL基础知识</a></li><li class="sidebar-sub-header"><a href="/docs/mysql0.html#初步了解innodb存储引擎的架构设计" class="sidebar-link">初步了解InnoDB存储引擎的架构设计</a></li></ul></li><li><a href="/docs/mysql.html" class="sidebar-link">MySQL章节1</a></li><li><a href="/docs/mysql2.html" class="sidebar-link">MySQL章节2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JAVA知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/thread.html" class="sidebar-link">多线程知识</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql章节0"><a href="#mysql章节0" class="header-anchor">#</a> MySQL章节0</h1> <h2 id="虚拟机上安装mysql"><a href="#虚拟机上安装mysql" class="header-anchor">#</a> 虚拟机上安装mysql</h2> <p>可以照着如下链接来安装（亲试可行）：<br>
https://blog.csdn.net/qq_36582604/article/details/80526287</p> <h3 id="下载并安装mysql官方的-yum-repository"><a href="#下载并安装mysql官方的-yum-repository" class="header-anchor">#</a> 下载并安装MySQL官方的 Yum Repository</h3> <blockquote><p>wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</p></blockquote> <p>使用上面的命令就直接下载了安装用的Yum Repository,然后安装它：</p> <blockquote><p>yum -y install mysql57-community-release-el7-10.noarch.rpm</p></blockquote> <h3 id="开始安装mysql服务器"><a href="#开始安装mysql服务器" class="header-anchor">#</a> 开始安装MySQL服务器</h3> <blockquote><p>yum -y install mysql-community-server</p></blockquote> <p>至此MySQL就安装完成了，然后是对MySQL的一些设置。<br>
find / -name mysql -print  找不到安装目录可以用该命令搜索。<br>
data默认放在：/var/lib/mysql</p> <p><font color="FF0000" size="4">mysql默认安装位置：/usr/share/mysql</font></p> <h3 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h3> <blockquote><p>export LD_LIBRARY_PATH=/usr/share/mysql</p></blockquote> <h3 id="安装mysql-devel"><a href="#安装mysql-devel" class="header-anchor">#</a> 安装mysql-devel</h3> <p>安装mysql-devel，才能使用mysql_config</p> <blockquote><p>yum install -y mysql-devel</p></blockquote> <h2 id="配置mysql"><a href="#配置mysql" class="header-anchor">#</a> 配置MySQL</h2> <p><strong>启动MySQL</strong></p> <blockquote><p>systemctl start mysqld.service</p></blockquote> <p><strong>查看mysql的运行状态</strong></p> <blockquote><p>systemctl status mysqld.service</p></blockquote> <p><strong>找出root用户的密码</strong></p> <blockquote><p>grep &quot;password&quot; /var/log/mysqld.log</p></blockquote> <p><img src="data:image/png;base64,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" alt="mysql密码" title="mysql_password.png"></p> <p><strong>客户端登录数据库</strong></p> <blockquote><p>mysql -uroot -p</p></blockquote> <p>输入初始密码（是上面图片最后面的xsOf=nB7)1p），此时不能做任何事情，因为MySQL默认必须修改密码之后才能操作数据库：</p> <p><strong>修改密码</strong></p> <blockquote><p>ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password';</p></blockquote> <p>其中‘new password’替换成你要设置的密码，注意:密码设置必须要大小写字母数字和特殊符号（,/';:等）,不然不能配置成功.<br> <font color="FF0000" size="4">我自己的数据库密码：Whc@1987</font></p> <p><strong>开启mysql的远程访问</strong><br>
执行以下命令开启远程访问限制（注意：下面命令开启的IP是 192.168.0.1，如要开启所有的，用%代替IP）</p> <blockquote><p>grant all privileges on <em>.</em> to 'root'@'%' identified by 'Whc@1987' with grant option;<br>
然后再输入下面两行命令<br>
flush privileges;<br>
exit;</p></blockquote> <p><strong>为firewalld添加开放端口</strong><br>
其实可以直接关闭防火墙，如果不想关闭，就要开放如下两个端口，这样别的机器就可以远程访问数据库了。</p> <blockquote><p>添加mysql端口3306和Tomcat端口8080<br>
firewall-cmd --zone=public --add-port=3306/tcp --permanent<br>
firewall-cmd --zone=public --add-port=8080/tcp --permanent<br>
重启防火墙<br>
firewall-cmd --reload</p></blockquote> <p><strong>更改mysql的语言</strong><br>
首先重新登录mysql，然后输入status：<br> <img src="/docs/assets/img/mysql_status.ab6e76d2.png" alt="查看mysql状态" title="mysql_status.png"></p> <p>可以看到，绿色箭头处（Server characterset:    latin1）不是utf-8<br>
因此我们先退出mysql，然后再到、etc目录下的my.cnf文件下修改一下文件内容</p> <p><img src="data:image/png;base64,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" alt="mysql的配置文件my.cnf" title="mysql_language_set.png"></p> <p>在/etc/my.cnf中新增如图的四行代码：</p> <blockquote><p>[client]<br>
default-character-set=utf8<br>
character-set-server=utf8<br>
collation-server=utf8_general_ci</p></blockquote> <p>保存更改后的my.cnf文件后，重启下mysql，然后输入status再次查看，你就会发现变化啦</p> <p><img src="/docs/assets/img/mysql_language_set2.282f2ffd.png" alt="mysql的配置文件my.cnf" title="mysql_language_set2.png"></p> <p><strong>重启MySQL</strong></p> <blockquote><p>service mysqld restart</p></blockquote> <p>登录mysql客户端，输入status命令，查看MySQL状态，发现语言已经修改成功<br> <img src="/docs/assets/img/mysql_language_set3.524f376a.png" alt="mysql的配置文件my.cnf" title="mysql_language_set3.png"></p> <p>最后，到Windows下用cmd命令启动mysql啦(前面把密码改成了Whc@1987)！！</p> <blockquote><p>mysql -h 192.168.37.128 -P 3306 -u root -p</p></blockquote> <p><img src="/docs/assets/img/mysql_language_set4.59d64f39.png" alt="mysql的配置文件my.cnf" title="mysql_language_set4.png"></p> <h2 id="简单的jdbc连接"><a href="#简单的jdbc连接" class="header-anchor">#</a> 简单的jdbc连接</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://192.168.37.1:3308/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="远程登录报错"><a href="#远程登录报错" class="header-anchor">#</a> 远程登录报错</h2> <p><strong>报错信息：</strong>&quot;Host 'lchdevwangc' is not allowed to connect to this MySQL server&quot;<br> <strong>解决方案：</strong><br>
在navicat的查询窗口（下图最右侧的加号按钮）执行如下命令：</p> <blockquote><p>grant all PRIVILEGES on nacos.* to 'root'@'192.168.37.1' identified by '123456' WITH GRANT OPTION;<br>
flush privileges;</p></blockquote> <p>nacos指的是数据库的名字，root指的是访问数据库的用户的用户名（不是计算机名）<br> <strong>执行后在下图中可以看到授权信息</strong><br> <img src="/docs/assets/img/mysql_privilege1.3dadf22d.png" alt="navicat 给mysql授权" title="mysql_privilege1.png"></p> <p>一般用上面的命令就可以搞定权限问题，但是我们可以<strong>查看nacos数据库对哪些ip放开了权限</strong>，如下图：<br> <img src="/docs/assets/img/mysql_privilege2.889ab93e.png" alt="navicat 给mysql授权" title="mysql_privilege2.png"><br> <img src="/docs/assets/img/mysql_privilege3.60de2e7e.png" alt="navicat 给mysql授权" title="mysql_privilege3.png"></p> <h2 id="什么是mysql驱动"><a href="#什么是mysql驱动" class="header-anchor">#</a> 什么是mysql驱动</h2> <p>这段maven配置就引入了一个MySql驱动，mysql-connector-java是面向java语言的mysql驱动。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>MySQL驱动负责跟数据库建立网络连接</strong></p> <h2 id="数据库连接池的作用"><a href="#数据库连接池的作用" class="header-anchor">#</a> 数据库连接池的作用</h2> <p>频繁的创建连接和销毁连接会导致数据库的性能较低，加入数据库连接池后，连接用完并不销毁，而是重新放入数据库连接池。<br>
常见的数据库连接池有：DBCP、C3P0，Druid。</p> <p><font color="FFD700" size="4">我们的系统采用数据库连接池的方式去并发访问数据库，然后数据库自己其实也会维护一个连接池，其中管理了各种系统跟这台数据库服务器建立的所有连接</font></p> <p><img src="/docs/assets/img/tomcat2mysql.8ce18130.png" alt="数据库连接池" title="tomcat2mysql.png"></p> <h2 id="mysql基础知识"><a href="#mysql基础知识" class="header-anchor">#</a> MySQL基础知识</h2> <h4 id="网络连接必须让线程来处理"><a href="#网络连接必须让线程来处理" class="header-anchor">#</a> 网络连接必须让线程来处理</h4> <p>现在假设我们的数据库服务器连接池中的某个连接收到了网络请求，假设就是一条SQL语句，那么大家先思考一个问题，谁负责从这个连接中去监听网络请求？谁负责从网络连接里把请求数据读取出来？</p> <p>我想很多人恐怕没思考过这个问题，但是如果大家对计算机基础知识有一个简单了解的话，应该或多或少知道一点，那就是网络连接必须得分配给一个线程去进行处理，由一个线程负责监听请求和读取请求数据，比如从网络连接中读取和解析出来一条我们的系统发送过去的SQL语句，如下图所示：<br> <img src="/docs/assets/img/tomcat2mysql2.9e89bf7b.png" alt="数据库连接池" title="tomcat2mysql2.png"></p> <h4 id="sql接口-负责处理接收到的sql语句"><a href="#sql接口-负责处理接收到的sql语句" class="header-anchor">#</a> SQL接口：负责处理接收到的sql语句</h4> <p>思考一个问题，当mysql内部的工作线程从一个网络连接中读取出来一个SQL语句后，此时会如何执行这个SQL语句呢？<br>
MySQL内部提供了一个组件，就是SQL接口（SQL interface），他是一套执行SQL语句的接口，专门用来执行我们发送给MySQL的增删改查的SQL语句。</p> <p><img src="/docs/assets/img/tomcat2mysql3.5a30c76e.png" alt="数据库连接池之SQL接口" title="tomcat2mysql3.png"></p> <h4 id="_3-查询解析器-让mysql能看懂sql语句"><a href="#_3-查询解析器-让mysql能看懂sql语句" class="header-anchor">#</a> 3）查询解析器：让MySQL能看懂SQL语句</h4> <p>假设有一个sql语句：Select id,name,age from users where id =1<br>
MySQL是看不懂这个SQL的，需要借助<strong>查询解析器</strong><br>
这个查询解析器（Parser）就是负责对SQL语句进行解析的，比如对上面那个SQL语句进行一下拆解，拆解成以下几个部分：<br>
1.我们现在要从“users”表查询数据<br>
2.查询“id”字段的值等于1的那行数据<br>
3.对查出来的那行数据要提取里面的“id，name，age”三个字段<br> <img src="/docs/assets/img/tomcat2mysql4.1351ff40.png" alt="数据库连接池之查询解析器" title="tomcat2mysql4.png"></p> <h4 id="查询优化器-选择最优的查询路径"><a href="#查询优化器-选择最优的查询路径" class="header-anchor">#</a> 查询优化器：选择最优的查询路径</h4> <p><font color="FF0000" size="3">查询优化器（Optimizer）作用是：选择一个最优的查询路径。</font></p> <p>举个例子（纯属用于理解的例子，不代表真是的MySQL原理）<br>
1， 直接定位到users表中的id=1的一行数据，然后查询出这行数据的“id，name，age”三个字段的值就可以了。<br>
2， 先把users表中的每一行数据的“id，name，age”三个字段的值都查询出来，然后从这批数据里过滤出来id=1的那行数据即可。</p> <p>上面就是一个最简单的SQL语句的两种实现路径，其实我们会发现，要完成这个SQL语句的目标，两个路径都可以做到，但是哪一种更好呢？显然感觉第一种查询路径更好一些。</p> <p>所以查询优化器大概是干这个的，他会针对你的sql语句生成查询路径，然后选择一个最优的查询路径。相当于他会告诉你，你应该按照一个什么样的步骤和顺序，去执行哪些操作，然后一步一步的把SQL语句给完成了。<br> <img src="/docs/assets/img/tomcat2mysql5.ac8c75f6.png" alt="数据库连接池之查询优化器" title="tomcat2mysql5.png"></p> <h4 id="调用存储引擎接口-真正执行sql语句"><a href="#调用存储引擎接口-真正执行sql语句" class="header-anchor">#</a> 调用存储引擎接口，真正执行SQL语句</h4> <p>最后一步，就是把查询优化器选择的最优查询路径，也就是你到底应该按照一个什么样的顺序和步骤去执行这个SQL语句计划的，把这个计划交给底层的存储引擎去真正的执行。<br> <img src="/docs/assets/img/tomcat2mysql6.94a10751.png" alt="数据库连接池之存储引擎" title="tomcat2mysql6.png"></p> <p>那么问题来了，我们已经知道一个SQL语句要如何执行了，但是我们现在怎么知道哪些数据在内存里？哪些数据在磁盘里呢？我们执行的时候是更新内存的数据还是更新磁盘的数据？我们如果更新磁盘的数据，先查询哪个磁盘文件，再更新哪个磁盘文件？</p> <p>这个就需要存储引擎了。<br> <img src="/docs/assets/img/tomcat2mysql7.315ce011.png" alt="数据库连接池之查询解析器" title="tomcat2mysql7.png"></p> <p>MySQL的架构设计中，SQL接口、SQL解析器、查询优化器其实都是通用的，他就是一套组件而已。<br>
但是存储引擎的话，有很多种，比如我们常见的InnoDB、MyISAM、Memory等等。<strong>不过一般MySQL默认使用InnoDB引擎</strong>。</p> <h4 id="执行器-根据执行计划调用存储引擎的接口"><a href="#执行器-根据执行计划调用存储引擎的接口" class="header-anchor">#</a> 执行器：根据执行计划调用存储引擎的接口</h4> <p>思考一个问题，存储引擎可以帮助我们去访问内存和磁盘上的数据，那么是谁来调用存储引擎的接口呢？<br>
执行器会根据优化器选择的执行方案，去调用存储引擎的接口按照一定的顺序和步骤，把SQL语句的逻辑给执行了。</p> <p>举个例子，比如执行器可能会先调用存储引擎的一个接口，去获取users表中的第一行数据，然后判断一下这行数据的id字段是否等于我们期望的一个值，如果不是的话，接着去获取users表的下一行数据。</p> <p>就是基于上诉思路，<strong>执行器就会根据我们的优化器生成的一套执行计划，然后不停的调用存储引擎的各种接口，去完成SQL语句的执行计划</strong>，大致就是不停的更新或者提取一些数据出来。<br> <img src="/docs/assets/img/tomcat2mysql8.c01ef993.png" alt="数据库连接池之执行器" title="tomcat2mysql8.png"></p> <p><font color="FF0000" size="4">课后思考题：</font><br>
各个存储引擎的区别？<br>
从业务场景考虑，有的场景可能是高并发的更新，有的场景可能是大规模的数据查询，有的场景可能是允许数据丢失的</p> <h2 id="初步了解innodb存储引擎的架构设计"><a href="#初步了解innodb存储引擎的架构设计" class="header-anchor">#</a> 初步了解InnoDB存储引擎的架构设计</h2> <p><img src="/docs/assets/img/tomcat2mysql9.2e9d80c5.png" alt="数据库连接池之执行器" title="tomcat2mysql9.png"></p> <h4 id="innodb重要的缓存结构-缓冲池"><a href="#innodb重要的缓存结构-缓冲池" class="header-anchor">#</a> InnoDB重要的缓存结构：缓冲池</h4> <p>InnoDB存储引擎中有一个非常重要的组件，就是<strong>缓冲池（Buffer Pool）</strong>，
这里面会缓存很多数据，以便于以后再查询的时候，万一在内存缓冲池里有数据，就不用去查磁盘了。</p> <p><img src="/docs/assets/img/innodb1.c091f99e.png" alt="innodb之Buffer Pool" title="innodb1.png"><br>
Update users set name=’xxx’ where id =10<br> <font color="FFD700" size="4">所以当InnoDB存储引擎要执行更新语句的时候，比如对”id=10”这一行数据，其实会先看看“id=10”这行数据是否在缓冲池里，如果不在的话，那么会直接从磁盘里  加载到缓冲池里来，而且接着还会对这行记录加独占锁。</font></p> <p><img src="/docs/assets/img/innodb2.503adaa4.png" alt="innodb之Buffer Pool" title="innodb2.png"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/markdown.html" class="prev">
        前端知识介绍
      </a></span> <span class="next"><a href="/docs/mysql.html">
        MySQL章节1
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.fc28f30e.js" defer></script><script src="/docs/assets/js/3.2d99bf22.js" defer></script><script src="/docs/assets/js/4.65d204eb.js" defer></script>
  </body>
</html>
